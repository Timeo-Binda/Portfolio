import{d as k,w as D,i as h,o as n,c as a,a as t,t as l,b as s,v as I,s as L,F as f,r as A,x as R}from"./index-b3a1cdd2.js";import{f as V}from"./helper-07107c47.js";const B={class:"mt-8"},F={class:"flex items-center justify-center w-full h-full pt-2 pb-4"},S={key:0,class:"aspect-video w-full"},T=["src"],U={key:1,class:"aspect-w-16 aspect-h-9"},C={controls:"",class:"w-full max-h-screen"},N=["src"],P={class:"lg:grid lg:grid-cols-2"},Y={class:"lg:text-right"},z={class:"capitalize"},E={class:"capitalize"},$=t("h2",{class:"mt-24 lg:mt-48"},"Le projet",-1),q={class:"mt-4 lg:mt-6 grid lg:grid-cols-2"},G=["src"],H=t("h2",{class:"mt-24 lg:mt-48"},"Sa Réalisation",-1),J={class:"mt-4 lg:mt-6 grid lg:grid-cols-2"},K=["src"],M={class:"mt-4 lg:mt-12 grid lg:grid-cols-2 gap-4"},O={key:0},Q=t("h2",null,"Recommandation",-1),W={class:"lg:px-16 flex content-center justify-center flex-col lg:text-2xl"},X={class:"italic mt-16"},Z={class:"text-right"},tt=["src","alt"],ct=k({__name:"[id]",props:{id:{}},async setup(v){let i,_;const b=v,e=([i,_]=D(()=>R(b.id)),i=await i,_(),i),d=e.url,u=e.photo_bonus;console.log(u);const r=Array.isArray(u)?u.map(o=>h.getFileUrl(e,o,{thumb:"100x250"})):[];console.log(r);function y(o){return o.includes("youtube.com")||o.includes("youtu.be")}function w(o){const c=x(o);return c?`https://www.youtube.com/embed/${c}`:""}function x(o){const c=new URL(o);return c.hostname==="youtu.be"?c.pathname.substring(1):c.hostname==="www.youtube.com"&&new URLSearchParams(c.search).get("v")||null}const p=(Array.isArray(e.photo_bonus)?e.photo_bonus:[]).map(o=>({url:o?h.getFileUrl(e,o,{thumb:"100x250"}):"/image-not-found.png",description:o?o.description:"Description par défaut"}));return p[0],p[1],(o,c)=>{var m;return n(),a(f,null,[t("h2",B,l(s(e).titre),1),t("div",F,[y(s(d))?(n(),a("div",S,[t("iframe",{src:(m=w(s(d)))==null?void 0:m.toString(),frameborder:"0",allowfullscreen:"",class:"w-full h-full object-cover"},null,8,T)])):(n(),a("div",U,[t("video",C,[t("source",{src:s(d),type:"video/mp4"},null,8,N),I(" Votre navigateur ne prend pas en charge la balise vidéo. ")])]))]),t("div",P,[t("p",null,"Rôle: "+l(s(e).role),1),t("div",Y,[t("p",z,l(s(V)(s(e).date)),1),t("p",E,l(s(e).categorie),1)])]),$,t("div",q,[t("p",null,l(s(e).projet),1),t("div",null,[t("img",{class:"mt-6 lg:mt-0 lg:pl-20 aspect-[5/3] object-cover",src:s(r)[0]},null,8,G)])]),H,t("div",J,[t("p",null,l(s(e).realisation),1),t("div",null,[t("img",{class:"mt-6 lg:mt-0 lg:pl-20 aspect-[5/3] object-cover",src:s(r)[1]},null,8,K)])]),t("div",M,[s(e).recommandation?(n(),a("div",O,[Q,t("div",W,[t("p",X,'"'+l(s(e).recommandation)+'"',1),t("p",Z,l(s(e).nom_personne_reco),1)])])):L("",!0),(n(!0),a(f,null,A(s(r).slice(2),(j,g)=>(n(),a("div",{key:g,class:"lg:col-span-1"},[t("img",{src:j,alt:"Image bonus "+(g+1),class:"w-full h-full aspect-[5/3] object-cover"},null,8,tt)]))),128))])],64)}}});export{ct as default};
